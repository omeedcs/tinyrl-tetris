#pragma once
#include <cstdint>

namespace Tetris {
    // Piece shapes: [piece_type][rotation][row][col]
    // 7 pieces × 4 rotations × 4 rows × 4 cols
    constexpr uint8_t PIECES[7][4][4][4] = {
        // I-piece
        {
            {{0,0,0,0}, {1,1,1,1}, {0,0,0,0}, {0,0,0,0}},  // rot 0
            {{0,0,1,0}, {0,0,1,0}, {0,0,1,0}, {0,0,1,0}},  // rot 1
            {{0,0,0,0}, {0,0,0,0}, {1,1,1,1}, {0,0,0,0}},  // rot 2
            {{0,1,0,0}, {0,1,0,0}, {0,1,0,0}, {0,1,0,0}}   // rot 3
        },
        // O-piece
        {
            {{0,1,1,0}, {0,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,1,0}, {0,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,1,0}, {0,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,1,0}, {0,1,1,0}, {0,0,0,0}, {0,0,0,0}}
        },
        // T-piece
        {
            {{0,1,0,0}, {1,1,1,0}, {0,0,0,0}, {0,0,0,0}},  // rot 0
            {{0,1,0,0}, {0,1,1,0}, {0,1,0,0}, {0,0,0,0}},  // rot 1
            {{0,0,0,0}, {1,1,1,0}, {0,1,0,0}, {0,0,0,0}},  // rot 2
            {{0,1,0,0}, {1,1,0,0}, {0,1,0,0}, {0,0,0,0}}   // rot 3
        },
        // S-piece
        {
            {{0,1,1,0}, {1,1,0,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,0,0}, {0,1,1,0}, {0,0,1,0}, {0,0,0,0}},
            {{0,0,0,0}, {0,1,1,0}, {1,1,0,0}, {0,0,0,0}},
            {{1,0,0,0}, {1,1,0,0}, {0,1,0,0}, {0,0,0,0}}
        },
        // Z-piece
        {
            {{1,1,0,0}, {0,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,0,1,0}, {0,1,1,0}, {0,1,0,0}, {0,0,0,0}},
            {{0,0,0,0}, {1,1,0,0}, {0,1,1,0}, {0,0,0,0}},
            {{0,1,0,0}, {1,1,0,0}, {1,0,0,0}, {0,0,0,0}}
        },
        // J-piece
        {
            {{1,0,0,0}, {1,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,1,0}, {0,1,0,0}, {0,1,0,0}, {0,0,0,0}},
            {{0,0,0,0}, {1,1,1,0}, {0,0,1,0}, {0,0,0,0}},
            {{0,1,0,0}, {0,1,0,0}, {1,1,0,0}, {0,0,0,0}}
        },
        // L-piece
        {
            {{0,0,1,0}, {1,1,1,0}, {0,0,0,0}, {0,0,0,0}},
            {{0,1,0,0}, {0,1,0,0}, {0,1,1,0}, {0,0,0,0}},
            {{0,0,0,0}, {1,1,1,0}, {1,0,0,0}, {0,0,0,0}},
            {{1,1,0,0}, {0,1,0,0}, {0,1,0,0}, {0,0,0,0}}
        }
    };
}
